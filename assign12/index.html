<!DOCTYPE html>
<meta name="robots" content="noindex">
<html>
<head>
<meta name="description" content="LA 458/558 11a Leaflet starter file - 2018">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Assignment 12</title>
	
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" /> <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>

  <script src="https://code.jquery.com/jquery-2.2.4.js"></script>
<style id="jsbin-css">
#map {
     width: 500px;
     height: 400px;
     /* background-color: red; */
}
    
</style>
</head>
<body>
  <h1>Metros As They Relate to Abilene, Texas</h1>
  <hr>
<div id='map'></div>
    <br>
<hr>
<p>
Dallas is Abilene's largest metropolitcan trading partner, doing 723.5 million dollars worth of trade in 2010.    
</p>
<p>Houston and San Antonio are Abilene's second and third largest metropolitan trading partners respectively.</p>
<script id="jsbin-javascript">
    
//JSON
var cities = [{
    "name" : "San Angelo",
    "lat" : "31.457423",
    "long" : "-100.447272",
    "iconColor" : "99e699",
    "popupText" : "~80 miles from Abilene"
},
{
    "name" : "Wichita Falls",
    "lat" : "33.912942",
    "long" : "-98.490984",
    "iconColor" : "99ff33",
    "popupText" : "~125 miles from Abilene"
},
{
    "name" : "Midland",
    "lat" : "31.998045",
    "long" : "-102.077816",
    "iconColor" : "ffff99",
    "popupText" : "~140 miles from Abilene"
},
{
    "name" : "Odessa",
    "lat" : "31.848557",
    "long" : "-102.369731",
    "iconColor" : "ff9999",
    "popupText" : "~160 miles from Abilene"
},
{
    "name" : "Killeen-Temple-Fort Hood",
    "lat" : "31.120295",
    "long" : "-97.727686",
    "iconColor" : "ff5050",
    "popupText" : "~160 miles from Abilene"
}];
    
//GeoJSON
var myGeoJSON = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"marker-color":"#fd0000","marker-size":"medium","marker-symbol":""},"geometry":{"type":"Point","coordinates":[-96.7957305908203,32.783233658006516]}},{"type":"Feature","properties":{"marker-color":"#ff0000","marker-size":"medium","marker-symbol":""},"geometry":{"type":"Point","coordinates":[-95.36270141601562,29.75871465181543]}},{"type":"Feature","properties":{"marker-color":"#ff0000","marker-size":"medium","marker-symbol":""},"geometry":{"type":"Point","coordinates":[-98.49311828613281,29.429132343157633]}},{"type":"Feature","properties":{"marker-color":"#3005f8","marker-size":"medium","marker-symbol":"star"},"geometry":{"type":"Point","coordinates":[-99.74058151245117,32.44676821059965]}},{"type":"Feature","properties":{"stroke":"#ff80c0","stroke-width":3,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-99.74761962890625,32.43793111207064],[-100.4534912109375,31.454439514853256]]}},{"type":"Feature","properties":{"stroke":"#ff80c0","stroke-width":3,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-99.74212646484374,32.44720279964938],[-98.49517822265624,33.90005673964575]]}},{"type":"Feature","properties":{"stroke":"#ff80c0","stroke-width":3,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-99.7393798828125,32.44488496716713],[-102.09732055664061,31.99875937194732]]}},{"type":"Feature","properties":{"stroke":"#ff80c0","stroke-width":3,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-99.74212646484374,32.44488496716713],[-102.36991882324217,31.84781552640937]]}},{"type":"Feature","properties":{"stroke":"#ff80c0","stroke-width":3,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-99.7393798828125,32.4454644308762],[-97.73574829101562,31.108800665173202]]}}]};
//Base Layers
var map = L.map('map').setView([32.449988, -99.734246], 5);
//Make the Map
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);
var iconMarkerURL = "http://www.googlemapsmarkers.com/v1/";
    
    for (var i = 0; i < cities.length; i++) {
        
          console.log(cities[i].name);
        
        var marker = L.marker([cities[i].lat, cities[i].long], {
        icon: L.icon({
            iconUrl: iconMarkerURL + cities[i].iconColor,
            iconSize: [9, 17],
            icon: [5, 17],
            popupAnchor: [0, -20]
        }),
        title: cities[i].name
    }).bindPopup("<b>"+cities[i].name+"</b><br>"+cities[i].popupText+".").addTo(map);
    }
    
var myStyle = {
    "color": "#ffccff",
    "weight": 3,
    "opactiy": 0.8,
};
    
L.geoJSON(myGeoJSON, {
    style: myStyle,
}).addTo(map);
</script>
</body>
</html>
</html>
